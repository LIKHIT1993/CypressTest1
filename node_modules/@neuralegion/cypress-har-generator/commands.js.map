{"version":3,"sources":["webpack://@neuralegion/cypress-har-generator/./src/commands.ts"],"names":["Object","defineProperty","exports","value","Cypress","Commands","add","options","cy","task","assign","content","_a","_b","fallbackFileName","spec","name","outDir","env","path","fileName","startIndex","indexOf","lastIndexOf","substring","startExtIndex","filename"],"mappings":"0CACAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAWtDC,QAAQC,SAASC,IAAI,aAAcC,GAAYC,GAAGC,KAAK,YAAaT,OAAOU,OAAO,CAAEC,SAAS,GAAQJ,MACrGH,QAAQC,SAASC,IAAI,WAAYC,IAC7B,IAAIK,EAAIC,EACR,MAAMC,EAAmBV,QAAQW,KAAKC,KAChCC,EAAgD,QAAtCL,EAAKR,QAAQc,IAAI,uBAAoC,IAAPN,EAAgBA,EAAK,KALnE,IAACO,EASjB,OAHAZ,EAAUP,OAAOU,OAAO,CAAEO,UAAUV,EAAS,CACzCa,UAPaD,EAOuF,QAA7EN,EAAKN,aAAyC,EAASA,EAAQa,gBAA6B,IAAPP,EAAgBA,EAAKC,EAP3G,GATb,CAACK,IACd,MAAME,EAAaF,EAAKG,QAAQ,OAAS,EAAIH,EAAKI,YAAY,MAAQJ,EAAKI,YAAY,KACvF,IAAIP,EAAOG,EAAKK,UAAUH,GACC,IAAvBL,EAAKM,QAAQ,OAAqC,IAAtBN,EAAKM,QAAQ,OACzCN,EAAOA,EAAKQ,UAAU,IAE1B,MAAMC,EAAgBT,EAAKO,YAAY,KACvC,OAAOP,EAAKQ,UAAU,EAAGC,IAEIC,CAASP,YAS/BX,GAAGC,KAAK,UAAWF,O","file":"commands.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst filename = (path) => {\n    const startIndex = path.indexOf('\\\\') >= 0 ? path.lastIndexOf('\\\\') : path.lastIndexOf('/');\n    let name = path.substring(startIndex);\n    if (name.indexOf('\\\\') === 0 || name.indexOf('/') === 0) {\n        name = name.substring(1);\n    }\n    const startExtIndex = name.lastIndexOf('.');\n    return name.substring(0, startExtIndex);\n};\nconst harFileName = (path) => `${filename(path)}.har`;\nCypress.Commands.add('recordHar', (options) => cy.task('recordHar', Object.assign({ content: true }, options)));\nCypress.Commands.add('saveHar', (options) => {\n    var _a, _b;\n    const fallbackFileName = Cypress.spec.name;\n    const outDir = (_a = Cypress.env('hars_folders')) !== null && _a !== void 0 ? _a : './';\n    options = Object.assign({ outDir }, options, {\n        fileName: harFileName((_b = options === null || options === void 0 ? void 0 : options.fileName) !== null && _b !== void 0 ? _b : fallbackFileName)\n    });\n    return cy.task('saveHar', options);\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29tbWFuZHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxNQUFNLFFBQVEsR0FBRyxDQUFDLElBQVksRUFBc0IsRUFBRTtJQUNwRCxNQUFNLFVBQVUsR0FDZCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzRSxJQUFJLElBQUksR0FBVyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBRTlDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdkQsSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDMUI7SUFFRCxNQUFNLGFBQWEsR0FBVyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRXBELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDMUMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxJQUFZLEVBQXNCLEVBQUUsQ0FDdkQsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUUxQixPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FDbEIsV0FBVyxFQUNYLENBQUMsT0FBdUIsRUFBcUIsRUFBRSxDQUM3QyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQ2xFLENBQUM7QUFFRixPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FDbEIsU0FBUyxFQUNULENBQUMsT0FBOEIsRUFBcUIsRUFBRTs7SUFDcEQsTUFBTSxnQkFBZ0IsR0FBVyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNuRCxNQUFNLE1BQU0sR0FBVyxNQUFBLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLG1DQUFJLElBQUksQ0FBQztJQUUzRCxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLE9BQU8sRUFBRTtRQUMzQyxRQUFRLEVBQUUsV0FBVyxDQUFDLE1BQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFFBQVEsbUNBQUksZ0JBQWdCLENBQUM7S0FDN0QsQ0FBQyxDQUFDO0lBRUgsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNyQyxDQUFDLENBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlY29yZE9wdGlvbnMsIFNhdmVPcHRpb25zIH0gZnJvbSAnLi9QbHVnaW4nO1xuXG5jb25zdCBmaWxlbmFtZSA9IChwYXRoOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBzdGFydEluZGV4OiBudW1iZXIgPVxuICAgIHBhdGguaW5kZXhPZignXFxcXCcpID49IDAgPyBwYXRoLmxhc3RJbmRleE9mKCdcXFxcJykgOiBwYXRoLmxhc3RJbmRleE9mKCcvJyk7XG4gIGxldCBuYW1lOiBzdHJpbmcgPSBwYXRoLnN1YnN0cmluZyhzdGFydEluZGV4KTtcblxuICBpZiAobmFtZS5pbmRleE9mKCdcXFxcJykgPT09IDAgfHwgbmFtZS5pbmRleE9mKCcvJykgPT09IDApIHtcbiAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoMSk7XG4gIH1cblxuICBjb25zdCBzdGFydEV4dEluZGV4OiBudW1iZXIgPSBuYW1lLmxhc3RJbmRleE9mKCcuJyk7XG5cbiAgcmV0dXJuIG5hbWUuc3Vic3RyaW5nKDAsIHN0YXJ0RXh0SW5kZXgpO1xufTtcblxuY29uc3QgaGFyRmlsZU5hbWUgPSAocGF0aDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+XG4gIGAke2ZpbGVuYW1lKHBhdGgpfS5oYXJgO1xuXG5DeXByZXNzLkNvbW1hbmRzLmFkZChcbiAgJ3JlY29yZEhhcicsXG4gIChvcHRpb25zPzogUmVjb3JkT3B0aW9ucyk6IEN5cHJlc3MuQ2hhaW5hYmxlID0+XG4gICAgY3kudGFzaygncmVjb3JkSGFyJywgT2JqZWN0LmFzc2lnbih7IGNvbnRlbnQ6IHRydWUgfSwgb3B0aW9ucykpXG4pO1xuXG5DeXByZXNzLkNvbW1hbmRzLmFkZChcbiAgJ3NhdmVIYXInLFxuICAob3B0aW9ucz86IFBhcnRpYWw8U2F2ZU9wdGlvbnM+KTogQ3lwcmVzcy5DaGFpbmFibGUgPT4ge1xuICAgIGNvbnN0IGZhbGxiYWNrRmlsZU5hbWU6IHN0cmluZyA9IEN5cHJlc3Muc3BlYy5uYW1lO1xuICAgIGNvbnN0IG91dERpcjogc3RyaW5nID0gQ3lwcmVzcy5lbnYoJ2hhcnNfZm9sZGVycycpID8/ICcuLyc7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IG91dERpciB9LCBvcHRpb25zLCB7XG4gICAgICBmaWxlTmFtZTogaGFyRmlsZU5hbWUob3B0aW9ucz8uZmlsZU5hbWUgPz8gZmFsbGJhY2tGaWxlTmFtZSlcbiAgICB9KTtcblxuICAgIHJldHVybiBjeS50YXNrKCdzYXZlSGFyJywgb3B0aW9ucyk7XG4gIH1cbik7XG4iXX0="],"sourceRoot":""}